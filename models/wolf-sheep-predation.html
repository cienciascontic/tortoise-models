



<html>
  <head>
<link rel="stylesheet" type="text/css" href="app.css" charset="utf-8"/>
<link rel="stylesheet" type="text/css" href="app-custom.css" charset="utf-8"/>
  </head>
  <body>
    <div id="model-container"></div>
<script type="text/javascript" src="app.js"></script>
    <script type="text/javascript">
;

      var session =
        (function () {
          var widgets = [{"left":349,"top":10,"right":755,"bottom":437,"patchSize":12.0,"fontSize":14,"wrappingAllowedInX":true,"wrappingAllowedInY":true,"minPxcor":-16,"maxPxcor":16,"minPycor":-16,"maxPycor":16,"updateMode":"Continuous","showTickCounter":true,"tickCounterLabel":"ticks","frameRate":30.0,"type":"view"},{"display":"initial-number-sheep","left":0,"top":95,"right":174,"bottom":128,"varName":"initial-number-sheep","min":"0","max":"200","default":70.0,"step":"1","units":null,"direction":"horizontal","type":"slider","compiledMin":{"success":true,"result":"0"},"compiledMax":{"success":true,"result":"200"},"compiledStep":{"success":true,"result":"1"}},{"display":"sheep-gain-from-food","left":0,"top":132,"right":174,"bottom":165,"varName":"sheep-gain-from-food","min":"0.0","max":"30","default":4.0,"step":"1.0","units":null,"direction":"horizontal","type":"slider","compiledMin":{"success":true,"result":"0"},"compiledMax":{"success":true,"result":"30"},"compiledStep":{"success":true,"result":"1"}},{"display":"sheep-reproduce","left":0,"top":170,"right":174,"bottom":203,"varName":"sheep-reproduce","min":"1.0","max":"20.0","default":4.0,"step":"1.0","units":"%","direction":"horizontal","type":"slider","compiledMin":{"success":true,"result":"1"},"compiledMax":{"success":true,"result":"20"},"compiledStep":{"success":true,"result":"1"}},{"display":"initial-number-wolves","left":179,"top":94,"right":344,"bottom":127,"varName":"initial-number-wolves","min":"0","max":"100","default":40.0,"step":"1","units":null,"direction":"horizontal","type":"slider","compiledMin":{"success":true,"result":"0"},"compiledMax":{"success":true,"result":"100"},"compiledStep":{"success":true,"result":"1"}},{"display":"wolf-gain-from-food","left":178,"top":131,"right":343,"bottom":164,"varName":"wolf-gain-from-food","min":"0.0","max":"50","default":20.0,"step":"1.0","units":null,"direction":"horizontal","type":"slider","compiledMin":{"success":true,"result":"0"},"compiledMax":{"success":true,"result":"50"},"compiledStep":{"success":true,"result":"1"}},{"display":"wolf-reproduce","left":178,"top":170,"right":343,"bottom":203,"varName":"wolf-reproduce","min":"0.0","max":"20.0","default":5.0,"step":"1.0","units":"%","direction":"horizontal","type":"slider","compiledMin":{"success":true,"result":"0"},"compiledMax":{"success":true,"result":"20"},"compiledStep":{"success":true,"result":"1"}},{"display":"grass?","left":88,"top":32,"right":178,"bottom":65,"varName":"grass?","on":true,"type":"switch"},{"display":"grass-regrowth-time","left":186,"top":32,"right":338,"bottom":65,"varName":"grass-regrowth-time","min":"0","max":"50","default":30.0,"step":"1","units":null,"direction":"horizontal","type":"slider","compiledMin":{"success":true,"result":"0"},"compiledMax":{"success":true,"result":"50"},"compiledStep":{"success":true,"result":"1"}},{"display":"setup","left":10,"top":11,"right":79,"bottom":44,"source":"setup","forever":false,"buttonType":"OBSERVER","actionKey":null,"type":"button","compiledSource":{"success":true,"result":"Call(setup);"}},{"display":"go/stop","left":8,"top":52,"right":77,"bottom":85,"source":"go","forever":true,"buttonType":"OBSERVER","actionKey":null,"type":"button","compiledSource":{"success":true,"result":"Call(go);"}},{"display":"populations","left":8,"top":210,"right":336,"bottom":360,"xAxis":"time","yAxis":"pop.","xmin":0.0,"xmax":100.0,"ymin":0.0,"ymax":100.0,"autoPlotOn":true,"legendOn":true,"setupCode":"","updateCode":"","pens":[{"display":"sheep","interval":1.0,"mode":0,"color":-13345367,"inLegend":true,"setupCode":"","updateCode":"","type":"pen","compiledSetupCode":{"success":true,"result":""},"compiledUpdateCode":{"success":true,"result":""}},{"display":"wolves","interval":1.0,"mode":0,"color":-2674135,"inLegend":true,"setupCode":"","updateCode":"","type":"pen","compiledSetupCode":{"success":true,"result":""},"compiledUpdateCode":{"success":true,"result":""}},{"display":"grass / 4","interval":1.0,"mode":0,"color":-10899396,"inLegend":true,"setupCode":"","updateCode":"","type":"pen","compiledSetupCode":{"success":true,"result":""},"compiledUpdateCode":{"success":true,"result":""}}],"type":"plot","compiledSetupCode":{"success":true,"result":""},"compiledUpdateCode":{"success":true,"result":""}},{"display":"sheep","left":88,"top":368,"right":159,"bottom":413,"source":"count sheep","precision":3,"fontSize":11,"type":"monitor","compiledSource":{"success":true,"result":"world.turtleManager.turtlesOfBreed(\"SHEEP\").size()"}},{"display":"wolves","left":163,"top":368,"right":245,"bottom":413,"source":"count wolves","precision":3,"fontSize":11,"type":"monitor","compiledSource":{"success":true,"result":"world.turtleManager.turtlesOfBreed(\"WOLVES\").size()"}},{"display":"grass / 4","left":249,"top":368,"right":325,"bottom":413,"source":"count patches with [ pcolor = green ] / 4","precision":0,"fontSize":11,"type":"monitor","compiledSource":{"success":true,"result":"(world.patches().agentFilter(function() {\n  return Prims.equality(SelfPrims.getPatchVariable('pcolor'), 55);\n}).size() / 4)"}},{"display":"Sheep settings","left":90,"top":73,"right":230,"bottom":92,"fontSize":11,"color":0.0,"transparent":false,"type":"textBox"},{"display":"Wolf settings","left":264,"top":73,"right":337,"bottom":91,"fontSize":11,"color":0.0,"transparent":false,"type":"textBox"},{"display":"Grass settings","left":168,"top":10,"right":320,"bottom":28,"fontSize":11,"color":0.0,"transparent":false,"type":"textBox"},{"display":"show-energy?","left":26,"top":421,"right":162,"bottom":454,"varName":"show-energy?","on":false,"type":"switch"},{"display":"Ticks","left":17,"top":369,"right":74,"bottom":414,"source":"ticks","precision":0,"fontSize":11,"type":"monitor","compiledSource":{"success":true,"result":"world.ticker.tickCount()"}},{"display":"watch-one","left":185,"top":421,"right":310,"bottom":454,"varName":"watch-one","on":false,"type":"switch"}];
          var code    = ";;globals [ tick-s ]\nbreed [ sheep a-sheep ]\nbreed [ wolves wolf ]\nturtles-own [ energy ]\nsheep-own [ grabbed? ]     ;; used to prevent two wolves from eating the same sheep\npatches-own [ countdown ]\n\nto startup\nsetup\nend\n\nto setup\n  ca\n  ask patches [ set pcolor green ]\n  if grass? [\n      ;; indicates whether the grass switch is on\n      ;; if it is true, then grass grows and the sheep eat it\n      ;; if it false, then the sheep don't need to eat\n    ask patches [\n      set countdown random grass-regrowth-time ;; initialize grass grow clocks randomly\n      if (random 2) = 0  ;;half the patches start out with grass\n          [ set pcolor brown ]\n    ]\n  ]\n\n  set-default-shape sheep \"sheep\"\n  create-sheep initial-number-sheep  ;; create the sheep, then initialize their variables\n  [\n    set color white\n    set size 1.5  ;; easier to see\n    set label-color black\n    set energy random (2 * sheep-gain-from-food)\n    setxy random-xcor random-ycor\n    set grabbed? false\n  ]\n\n  set-default-shape wolves \"wolf\"\n  create-wolves initial-number-wolves  ;; create the wolves, then initialize their variables\n  [\n    set color black\n    set size 1.5  ;; easier to see\n    set energy random (2 * wolf-gain-from-food)\n    setxy random-xcor random-ycor\n  ]\n\n  display-labels\n\n  do-plot\n    watch-one-animal\nend\n\nto go\n  if not any? turtles [ stop ]\n  ask sheep [\n    move\n    if grass? [\n      set energy energy - 1  ;; deduct energy for sheep only if grass? switch is on\n      eat-grass\n    ]\n    reproduce-sheep\n    death\n  ]\n  ask wolves [\n    move\n    set energy energy - 1  ;; wolves lose energy as they move\n    catch-sheep\n    reproduce-wolves\n    death\n  ]\n  if grass? [ ask patches [ grow-grass ] ]\n  do-plot  ;; plot populations\n  display-labels\n tick\nend\n\nto move  ;; turtle procedure\n  rt random-float 50 - random-float 50\n  fd 1\nend\n\nto eat-grass  ;; sheep procedure\n  ;; sheep eat grass, turn the patch brown\n  if pcolor = green [\n    set pcolor brown\n    set energy energy + sheep-gain-from-food  ;; sheep gain energy by eating\n  ]\nend\n\nto reproduce-sheep  ;; sheep procedure\n  if random-float 100 < sheep-reproduce [  ;; throw \"dice\" to see if you will reproduce\n    set energy (energy / 2)          ;; divide energy between parent and offspring\n    hatch 1 [ rt random-float 360 fd 1 ]   ;; hatch an offspring and move it forward 1 step\n  ]\nend\n\nto reproduce-wolves  ;; wolf procedure\n  if random-float 100 < wolf-reproduce [  ;; throw \"dice\" to see if you will reproduce\n    set energy (energy / 2 )  ;; divide energy between parent and offspring\n    hatch 1 [ rt random-float 360 fd 1 ]  ;; hatch an offspring and move it forward 1 step\n  ]\nend\n\nto catch-sheep  ;; wolf procedure\n  let prey one-of (sheep-here             ;; grab a random sheep\n                           with [not grabbed?]) ;; that no one else is grabbing\n  if prey != nobody                             ;; did we get one?  if so,\n    [ask prey [set grabbed? true]\n   ;; [ set [grabbed?] of prey true                 ;; prevent other wolves from grabbing it\n      ask prey [ die ]                          ;; kill it\n      set energy energy + wolf-gain-from-food ]     ;; get energy from eating\nend\n\nto death  ;; turtle procedure\n  ;; when energy dips below zero, die\n  if energy < 0 [ die ]\nend\n\nto grow-grass  ;; patch procedure\n  ;; countdown on brown patches, if reach 0, grow some grass\n  if pcolor = brown [\n    ifelse countdown <= 0\n      [ set pcolor green\n        set countdown grass-regrowth-time ]\n      [ set countdown (countdown - 1) ]\n  ]\nend\n\nto do-plot\n  set-current-plot \"populations\"\n  set-current-plot-pen \"sheep\"\n  plot count sheep\n  set-current-plot-pen \"wolves\"\n  plot count wolves\n  if grass? [\n    set-current-plot-pen \"grass / 4\"\n    plot count patches with [ pcolor = green ] / 4  ;; divide by four to keep it within similar\n                                                ;; range as wolf and sheep populations\n  ]\nend\n\nto display-labels\n  ifelse show-energy?\n  [\n    ifelse grass?\n    [\n      ask turtles\n      [ set label round energy ]\n    ]\n    [\n      ask wolves\n      [ set label round energy ]\n      ask sheep\n      [ set label \"\" ]\n    ]\n  ]\n  [\n    ask turtles\n    [ set label \"\" ]\n  ]\nend\n\nto watch-one-animal\nif watch-one = true\n  [watch one-of turtles]\n\nend\n\n; *** NetLogo 3.1.3 Model Copyright Notice ***\n;\n; This model was created as part of the project: CONNECTED MATHEMATICS:\n; MAKING SENSE OF COMPLEX PHENOMENA THROUGH BUILDING OBJECT-BASED PARALLEL\n; MODELS (OBPML).  The project gratefully acknowledges the support of the\n; National Science Foundation (Applications of Advanced Technologies\n; Program) -- grant numbers RED #9552950 and REC #9632612.\n;\n; Copyright 1998 by Uri Wilensky.  All rights reserved.\n;\n; Permission to use, modify or redistribute this model is hereby granted,\n; provided that both of the following requirements are followed:\n; a) this copyright notice is included.\n; b) this model will not be redistributed for profit without permission\n;    from Uri Wilensky.\n; Contact Uri Wilensky for appropriate licenses for redistribution for\n; profit.\n;\n; This model was converted to NetLogo as part of the projects:\n; PARTICIPATORY SIMULATIONS: NETWORK-BASED DESIGN FOR SYSTEMS LEARNING\n; IN CLASSROOMS and/or INTEGRATED SIMULATION AND MODELING ENVIRONMENT.\n; The project gratefully acknowledges the support of the\n; National Science Foundation (REPP & ROLE programs) --\n; grant numbers REC #9814682 and REC-0126227.\n; Converted from StarLogoT to NetLogo, 2000.\n;\n; To refer to this model in academic publications, please use:\n; Wilensky, U. (1998).  NetLogo Wolf Sheep Predation model.\n; http://ccl.northwestern.edu/netlogo/models/WolfSheepPredation.\n; Center for Connected Learning and Computer-Based Modeling,\n; Northwestern University, Evanston, IL.\n;\n; In other publications, please use:\n; Copyright 1998 Uri Wilensky.  All rights reserved.\n; See http://ccl.northwestern.edu/netlogo/models/WolfSheepPredation\n; for terms of use.\n;\n; *** End of NetLogo 3.1.3 Model Copyright Notice ***";
          var info    = "WHAT IS IT?\n-----------\nThis model explores the stability of predator-prey ecosystems. (The construction of this model is described in two papers by Wilensky & Reisman referenced below.) Such systems are called unstable when they tend to result in extinction for one or more species involved.  In contrast, systems are stable when they tend to maintain themselves over time, despite fluctuations in population sizes. There are two main variations to this model.\n\nIn the first variation, wolves and sheep wonder randomly around the landscape, while the wolves look for sheep to prey on. Each step costs the wolves energy, and they must eat sheep in order to replenish their energy - when they run out of energy they die. To allow the population to continue, each wolf or sheep has a fixed probability of reproducing at each time step. This variation produces interesting population dynamics, but is ultimately unstable.\n\nThe second variation includes grass (green) in addition to wolves and sheep. The behavior of the wolves is identical to the first variation, however this time the sheep must eat grass in order to maintain their energy - when they run out of energy they die. Once grass is eaten it will only regrow after a fixed amount of time. This variation is more complex than the first, but it is generally stable.\n\n\nHOW TO USE IT\n-------------\n1. Set the GRASS? switch to TRUE to include grass in the model, or to FALSE to only include wolves (red) and sheep (white).\n2. Adjust the slider parameters (see below), or use the default settings.\n3. Press the SETUP button.\n4. Press the GO button to begin the simulation.\n5. View the POPULATIONS plot to watch the populations fluctuate over time\n6. View the count-sheep/count-wolves monitors to view current population sizes\n\nParameters:\nINITIAL-NUMBER-SHEEP: The initial size of sheep population\nINITIAL-NUMBER-WOLVES: The initial size of wolf population\nSHEEP-GAIN-FROM-FOOD: The amount of energy sheep get for every grass patch eaten\nWOLF-GAIN-FROM-FOOD: The amount of energy wolves get for every sheep eaten\nSHEEP-REPRODUCE: The probability of a sheep reproducing at each time step\nWOLF-REPRODUCE: The probability of a wolf reproducing at each time step\nGRASS?: Whether or not to include grass in the model\nGRASS-REGROWTH-TIME: How long it takes for grass to regrow once it is eaten\nSHOW-ENERGY?: Whether or not to show the energy of each animal in the View\n\nNotes:\n- one unit of energy is deducted for every step a wolf takes\n- when grass is included, one unit of energy is deducted for every step a sheep takes\n\n\nTHINGS TO NOTICE\n----------------\nWhen grass is not included, watch as the sheep and wolf populations fluctuate. Notice that increases and decreases in the sizes of each population are related. In what way are they related? What eventually happens?\n\nOnce grass is added, notice the green line added to the population plot representing fluctuations in the amount of grass. How do the sizes of the three populations appear to relate now? What is the explanation for this?\n\nWhy do you suppose that some variations of the model might be stable while others are not?\n\n\nTHINGS TO TRY\n-------------\nTry adjusting the parameters under various settings. How sensitive is the stability of the model to the particular parameters?\n\nCan you find any parameters that generate a stable ecosystem that includes only wolves and sheep?\n\nTry setting GRASS? to TRUE, but setting INITIAL-NUMBER-WOLVES to 0. This gives a stable ecosystem with only sheep and grass. Why might this be stable while the variation with only sheep and wolves is not?\n\nNotice that under stable settings, the populations tend to fluctuate at a predictable pace. Can you find any parameters that will speed this up or slow it down?\n\nTry changing the reproduction rules -- for example, what would happen if reproduction depended on energy rather than being determined by a fixed probability?\n\n\nEXTENDING THE MODEL\n-------------------\nThere are a number ways to alter the model so that it will be stable with only wolves and sheep (no grass). Some will require new elements to be coded in or existing behaviors to be changed. Can you develop such a version?\n\n\nNETLOGO FEATURES\n----------------\nNote the use of breeds to model two different kinds of \"turtles\": wolves and sheep. Note the use of patches to model grass.\n\nNote use of the ONE-OF agentset reporter to select a random sheep to be eaten by a wolf.\n\n\nRELATED MODELS\n---------------\nLook at Rabbit Grass Weeds for another model of interacting populations with different rules.\n\n\nCREDITS AND REFERENCES\n----------------------\nWilensky, U. & Reisman, K. (1999). Connected Science: Learning Biology through Constructing and Testing Computational Theories -- an Embodied Modeling Approach. International Journal of Complex Systems, M. 234, pp. 1 - 12. (This model is a slightly extended version of the model described in the paper.)\n\nWilensky, U. & Reisman, K. (in press). Thinking like a Wolf, a Sheep or a Firefly: Learning Biology through Constructing and Testing Computational Theories -- an Embodied Modeling Approach. Cognition & Instruction.\n\nTo refer to this model in academic publications, please use:  Wilensky, U. (1998).  NetLogo Wolf Sheep Predation model.  http://ccl.northwestern.edu/netlogo/models/WolfSheepPredation.  Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.\n\nIn other publications, please use:  Copyright 1998 Uri Wilensky.  All rights reserved.  See http://ccl.northwestern.edu/netlogo/models/WolfSheepPredation for terms of use.";
          return Tortoise.fromCompiledModel('#model-container', widgets, code, info, '', true);
        })();
      var modelConfig  = (typeof window.modelConfig !== "undefined" && window.modelConfig !== null) ? window.modelConfig : {};
var modelPlotOps = (typeof modelConfig.plotOps !== "undefined" && modelConfig.plotOps !== null) ? modelConfig.plotOps : {};

var PenBundle = tortoise_require('engine/plot/pen');
var Plot      = tortoise_require('engine/plot/plot');
var PlotOps   = tortoise_require('engine/plot/plotops');

modelConfig.plots = [(function() {
  var name    = 'populations';
  var plotOps = (typeof modelPlotOps[name] !== "undefined" && modelPlotOps[name] !== null) ? modelPlotOps[name] : new PlotOps(function() {}, function() {}, function() {}, function() { return function() {}; }, function() { return function() {}; }, function() { return function() {}; });
  var pens    = [new PenBundle.Pen('sheep', plotOps.makePenOps, false, new PenBundle.State(105.0, 1.0, PenBundle.DisplayMode.Line), function() { workspace.rng.withAux(function() { plotManager.withTemporaryContext('populations', 'sheep')(function() {}); }); }, function() { workspace.rng.withAux(function() { plotManager.withTemporaryContext('populations', 'sheep')(function() {}); }); }),
new PenBundle.Pen('wolves', plotOps.makePenOps, false, new PenBundle.State(15.0, 1.0, PenBundle.DisplayMode.Line), function() { workspace.rng.withAux(function() { plotManager.withTemporaryContext('populations', 'wolves')(function() {}); }); }, function() { workspace.rng.withAux(function() { plotManager.withTemporaryContext('populations', 'wolves')(function() {}); }); }),
new PenBundle.Pen('grass / 4', plotOps.makePenOps, false, new PenBundle.State(55.0, 1.0, PenBundle.DisplayMode.Line), function() { workspace.rng.withAux(function() { plotManager.withTemporaryContext('populations', 'grass / 4')(function() {}); }); }, function() { workspace.rng.withAux(function() { plotManager.withTemporaryContext('populations', 'grass / 4')(function() {}); }); })];
  var setup   = function() { workspace.rng.withAux(function() { plotManager.withTemporaryContext('populations', undefined)(function() {}); }); };
  var update  = function() { workspace.rng.withAux(function() { plotManager.withTemporaryContext('populations', undefined)(function() {}); }); };
  return new Plot(name, pens, plotOps, 'time', 'pop.', true, 0.0, 100.0, 0.0, 100.0, setup, update);
})()];
if (typeof javax !== "undefined") { modelConfig.output = { clear: function(){}, write: function(str) { context.getWriter().print(str); } } }

var workspace = tortoise_require('engine/workspace')(modelConfig)([{ name: 'SHEEP', singular: 'a-sheep', varNames: ['grabbed?'] }, { name: 'WOLVES', singular: 'wolf', varNames: [] }])(['energy'], [])(['initial-number-sheep', 'sheep-gain-from-food', 'sheep-reproduce', 'initial-number-wolves', 'wolf-gain-from-food', 'wolf-reproduce', 'grass?', 'grass-regrowth-time', 'show-energy?', 'watch-one'], ['initial-number-sheep', 'sheep-gain-from-food', 'sheep-reproduce', 'initial-number-wolves', 'wolf-gain-from-food', 'wolf-reproduce', 'grass?', 'grass-regrowth-time', 'show-energy?', 'watch-one'], ['countdown'], -16, 16, -16, 16, 12.0, true, true, {"default":{"rotate":true,"elements":[{"xcors":[150,40,150,260],"ycors":[5,250,205,250],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"airplane":{"rotate":true,"elements":[{"xcors":[150,135,120,120,15,15,120,135,105,120,150,180,210,165,180,285,285,180,180,165],"ycors":[0,15,60,105,165,195,180,240,270,285,270,285,270,240,180,195,165,105,60,15],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"arrow":{"rotate":true,"elements":[{"xcors":[150,0,105,105,195,195,300],"ycors":[0,150,150,293,293,150,150],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"box":{"rotate":false,"elements":[{"xcors":[150,285,285,150],"ycors":[285,225,75,135],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[150,15,150,285],"ycors":[135,75,15,75],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[15,15,150,150],"ycors":[75,225,285,135],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x1":150,"y1":285,"x2":150,"y2":135,"type":"line","color":"rgba(0, 0, 0, 1.0)","filled":false,"marked":false},{"x1":150,"y1":135,"x2":15,"y2":75,"type":"line","color":"rgba(0, 0, 0, 1.0)","filled":false,"marked":false},{"x1":150,"y1":135,"x2":285,"y2":75,"type":"line","color":"rgba(0, 0, 0, 1.0)","filled":false,"marked":false}]},"bug":{"rotate":true,"elements":[{"x":96,"y":182,"diam":108,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":110,"y":127,"diam":80,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":110,"y":75,"diam":80,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x1":150,"y1":100,"x2":80,"y2":30,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x1":150,"y1":100,"x2":220,"y2":30,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"butterfly":{"rotate":true,"elements":[{"xcors":[150,209,225,225,195,165,150],"ycors":[165,199,225,255,270,255,240],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[150,89,75,75,105,135,150],"ycors":[165,198,225,255,270,255,240],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[139,100,55,25,10,10,25,40,85,139],"ycors":[148,105,90,90,105,135,180,195,194,163],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[162,200,245,275,290,290,275,260,215,162],"ycors":[150,105,90,90,105,135,180,195,195,165],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[150,135,120,135,150,165,180,165],"ycors":[255,225,150,120,105,120,150,225],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":135,"y":90,"diam":30,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x1":150,"y1":105,"x2":195,"y2":60,"type":"line","color":"rgba(0, 0, 0, 1.0)","filled":false,"marked":false},{"x1":150,"y1":105,"x2":105,"y2":60,"type":"line","color":"rgba(0, 0, 0, 1.0)","filled":false,"marked":false}]},"car":{"rotate":false,"elements":[{"xcors":[300,279,261,240,226,213,203,185,159,135,75,0,0,0,300,300],"ycors":[180,164,144,135,132,106,84,63,50,50,60,150,165,225,225,180],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":180,"y":180,"diam":90,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":30,"y":180,"diam":90,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xcors":[162,132,134,209,194,189,180],"ycors":[80,78,135,135,105,96,89],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":47,"y":195,"diam":58,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":195,"y":195,"diam":58,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"circle":{"rotate":false,"elements":[{"x":0,"y":0,"diam":300,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"circle 2":{"rotate":false,"elements":[{"x":0,"y":0,"diam":300,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":30,"y":30,"diam":240,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false}]},"cow":{"rotate":false,"elements":[{"xcors":[200,197,179,177,166,140,93,78,72,49,48,37,25,25,45,103,179,198,252,272,293,285,255,242,224],"ycors":[193,249,249,196,187,189,191,179,211,209,181,149,120,89,72,84,75,76,64,81,103,121,121,118,167],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[73,86,62,48],"ycors":[210,251,249,208],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[25,16,9,23,25,39],"ycors":[114,195,204,213,200,123],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"cylinder":{"rotate":false,"elements":[{"x":0,"y":0,"diam":300,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"dot":{"rotate":false,"elements":[{"x":90,"y":90,"diam":120,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"face happy":{"rotate":false,"elements":[{"x":8,"y":8,"diam":285,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":60,"y":75,"diam":60,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":180,"y":75,"diam":60,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xcors":[150,90,62,47,67,90,109,150,192,210,227,251,236,212],"ycors":[255,239,213,191,179,203,218,225,218,203,181,194,217,240],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false}]},"face neutral":{"rotate":false,"elements":[{"x":8,"y":7,"diam":285,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":60,"y":75,"diam":60,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":180,"y":75,"diam":60,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xmin":60,"ymin":195,"xmax":240,"ymax":225,"type":"rectangle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false}]},"face sad":{"rotate":false,"elements":[{"x":8,"y":8,"diam":285,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":60,"y":75,"diam":60,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":180,"y":75,"diam":60,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xcors":[150,90,62,47,67,90,109,150,192,210,227,251,236,212],"ycors":[168,184,210,232,244,220,205,198,205,220,242,229,206,183],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false}]},"fish":{"rotate":false,"elements":[{"xcors":[44,21,15,0,15,0,13,20,45],"ycors":[131,87,86,120,150,180,214,212,166],"type":"polygon","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xcors":[135,119,95,76,46,60],"ycors":[195,235,218,210,204,165],"type":"polygon","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xcors":[75,83,71,86,166,135],"ycors":[45,77,103,114,78,60],"type":"polygon","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xcors":[30,151,226,280,292,292,287,270,195,151,30],"ycors":[136,77,81,119,146,160,170,195,210,212,166],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":215,"y":106,"diam":30,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false}]},"flag":{"rotate":false,"elements":[{"xmin":60,"ymin":15,"xmax":75,"ymax":300,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[90,270,90],"ycors":[150,90,30],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x1":75,"y1":135,"x2":90,"y2":135,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x1":75,"y1":45,"x2":90,"y2":45,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"flower":{"rotate":false,"elements":[{"xcors":[135,165,180,180,150,165,195,195,165],"ycors":[120,165,210,240,300,300,240,195,135],"type":"polygon","color":"rgba(89, 176, 60, 1.0)","filled":true,"marked":false},{"x":85,"y":132,"diam":38,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":130,"y":147,"diam":38,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":192,"y":85,"diam":38,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":85,"y":40,"diam":38,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":177,"y":40,"diam":38,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":177,"y":132,"diam":38,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":70,"y":85,"diam":38,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":130,"y":25,"diam":38,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":96,"y":51,"diam":108,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":113,"y":68,"diam":74,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xcors":[189,219,249,279,234],"ycors":[233,188,173,188,218],"type":"polygon","color":"rgba(89, 176, 60, 1.0)","filled":true,"marked":false},{"xcors":[180,150,105,75,135],"ycors":[255,210,210,240,240],"type":"polygon","color":"rgba(89, 176, 60, 1.0)","filled":true,"marked":false}]},"house":{"rotate":false,"elements":[{"xmin":45,"ymin":120,"xmax":255,"ymax":285,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":120,"ymin":210,"xmax":180,"ymax":285,"type":"rectangle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xcors":[15,150,285],"ycors":[120,15,120],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x1":30,"y1":120,"x2":270,"y2":120,"type":"line","color":"rgba(0, 0, 0, 1.0)","filled":false,"marked":false}]},"leaf":{"rotate":false,"elements":[{"xcors":[150,135,120,60,30,60,60,15,30,15,40,45,60,90,105,120,105,120,135,150,165,180,195,180,195,210,240,255,263,285,270,285,240,240,270,240,180,165],"ycors":[210,195,210,210,195,180,165,135,120,105,104,90,90,105,120,120,60,60,30,15,30,60,60,120,120,105,90,90,104,105,120,135,165,180,195,210,210,195],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[135,135,120,105,105,135,165,165],"ycors":[195,240,255,255,285,285,240,195],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"line":{"rotate":true,"elements":[{"x1":150,"y1":0,"x2":150,"y2":300,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"line half":{"rotate":true,"elements":[{"x1":150,"y1":0,"x2":150,"y2":150,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"link":{"rotate":true,"elements":[{"x1":150,"y1":0,"x2":150,"y2":300,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"link direction":{"rotate":true,"elements":[{"x1":150,"y1":150,"x2":30,"y2":225,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x1":150,"y1":150,"x2":270,"y2":225,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"pentagon":{"rotate":false,"elements":[{"xcors":[150,15,60,240,285],"ycors":[15,120,285,285,120],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"person":{"rotate":false,"elements":[{"x":110,"y":5,"diam":80,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[105,120,90,105,135,150,165,195,210,180,195],"ycors":[90,195,285,300,300,225,300,300,285,195,90],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":127,"ymin":79,"xmax":172,"ymax":94,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[195,240,225,165],"ycors":[90,150,180,105],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[105,60,75,135],"ycors":[90,150,180,105],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"plant":{"rotate":false,"elements":[{"xmin":135,"ymin":90,"xmax":165,"ymax":300,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[135,90,45,75,135],"ycors":[255,210,195,255,285],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[165,210,255,225,165],"ycors":[255,210,195,255,285],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[135,90,45,75,135],"ycors":[180,135,120,180,210],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[165,165,225,255,210],"ycors":[180,210,180,120,135],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[135,90,45,75,135],"ycors":[105,60,45,105,135],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[165,165,225,255,210],"ycors":[105,135,105,45,60],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[135,120,150,180,165],"ycors":[90,45,15,45,90],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"sheep":{"rotate":false,"elements":[{"xmin":166,"ymin":225,"xmax":195,"ymax":285,"type":"rectangle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xmin":62,"ymin":225,"xmax":90,"ymax":285,"type":"rectangle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xmin":30,"ymin":75,"xmax":210,"ymax":225,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":135,"y":75,"diam":150,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":180,"y":76,"diam":116,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":191,"y":131,"diam":67,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":150,"y":120,"diam":30,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":174,"y":129,"diam":42,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":135,"y":105,"diam":60,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"square":{"rotate":false,"elements":[{"xmin":30,"ymin":30,"xmax":270,"ymax":270,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"square 2":{"rotate":false,"elements":[{"xmin":30,"ymin":30,"xmax":270,"ymax":270,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":60,"ymin":60,"xmax":240,"ymax":240,"type":"rectangle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false}]},"star":{"rotate":false,"elements":[{"xcors":[151,185,298,207,242,151,59,94,3,116],"ycors":[1,108,108,175,282,216,282,175,108,108],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"target":{"rotate":false,"elements":[{"x":0,"y":0,"diam":300,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":30,"y":30,"diam":240,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":60,"y":60,"diam":180,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":90,"y":90,"diam":120,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":120,"y":120,"diam":60,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"tree":{"rotate":false,"elements":[{"x":118,"y":3,"diam":94,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":120,"ymin":195,"xmax":180,"ymax":300,"type":"rectangle","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":false},{"x":65,"y":21,"diam":108,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":116,"y":41,"diam":127,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":45,"y":90,"diam":120,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":104,"y":74,"diam":152,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"triangle":{"rotate":false,"elements":[{"xcors":[150,15,285],"ycors":[30,255,255],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"triangle 2":{"rotate":false,"elements":[{"xcors":[150,15,285],"ycors":[30,255,255],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[151,225,75],"ycors":[99,223,224],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false}]},"truck":{"rotate":false,"elements":[{"xmin":4,"ymin":45,"xmax":195,"ymax":187,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[296,296,259,244,208,207],"ycors":[193,150,134,104,104,194],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":195,"ymin":60,"xmax":195,"ymax":105,"type":"rectangle","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xcors":[238,252,219,218],"ycors":[112,141,141,112],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":234,"y":174,"diam":42,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xmin":181,"ymin":185,"xmax":214,"ymax":194,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":144,"y":174,"diam":42,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":24,"y":174,"diam":42,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":24,"y":174,"diam":42,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x":144,"y":174,"diam":42,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x":234,"y":174,"diam":42,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"turtle":{"rotate":true,"elements":[{"xcors":[215,240,246,228,215,193],"ycors":[204,233,254,266,252,210],"type":"polygon","color":"rgba(89, 176, 60, 1.0)","filled":true,"marked":false},{"xcors":[195,225,245,260,269,261,240,225,210],"ycors":[90,75,75,89,108,124,105,105,105],"type":"polygon","color":"rgba(89, 176, 60, 1.0)","filled":true,"marked":false},{"xcors":[105,75,55,40,31,39,60,75,90],"ycors":[90,75,75,89,108,124,105,105,105],"type":"polygon","color":"rgba(89, 176, 60, 1.0)","filled":true,"marked":false},{"xcors":[132,134,107,108,150,192,192,169,172],"ycors":[85,64,51,17,2,18,52,65,87],"type":"polygon","color":"rgba(89, 176, 60, 1.0)","filled":true,"marked":false},{"xcors":[85,60,54,72,85,107],"ycors":[204,233,254,266,252,210],"type":"polygon","color":"rgba(89, 176, 60, 1.0)","filled":true,"marked":false},{"xcors":[119,179,209,224,220,175,128,81,74,88],"ycors":[75,75,101,135,225,261,261,224,135,99],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"wheel":{"rotate":false,"elements":[{"x":3,"y":3,"diam":294,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":30,"y":30,"diam":240,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x1":150,"y1":285,"x2":150,"y2":15,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x1":15,"y1":150,"x2":285,"y2":150,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x":120,"y":120,"diam":60,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x1":216,"y1":40,"x2":79,"y2":269,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x1":40,"y1":84,"x2":269,"y2":221,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x1":40,"y1":216,"x2":269,"y2":79,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x1":84,"y1":40,"x2":221,"y2":269,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"wolf":{"rotate":false,"elements":[{"xmin":195,"ymin":106,"xmax":285,"ymax":150,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":195,"ymin":90,"xmax":255,"ymax":105,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[240,217,196],"ycors":[90,44,90],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[234,218,203],"ycors":[89,59,89],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xmin":240,"ymin":93,"xmax":252,"ymax":105,"type":"rectangle","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xmin":242,"ymin":96,"xmax":249,"ymax":104,"type":"rectangle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xmin":241,"ymin":125,"xmax":285,"ymax":139,"type":"rectangle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xcors":[285,277,269],"ycors":[125,138,125],"type":"polygon","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xcors":[269,262,256],"ycors":[140,125,140],"type":"polygon","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xmin":45,"ymin":120,"xmax":195,"ymax":195,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":45,"ymin":114,"xmax":185,"ymax":120,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":165,"ymin":195,"xmax":180,"ymax":270,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":60,"ymin":195,"xmax":75,"ymax":270,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[45,15,15,45,60],"ycors":[105,30,75,150,120],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"x":{"rotate":false,"elements":[{"xcors":[270,225,30,75],"ycors":[75,30,225,270],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[30,75,270,225],"ycors":[75,30,225,270],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]}}, {"default":{"direction-indicator":{"rotate":true,"elements":[{"x1":150,"y1":150,"x2":90,"y2":180,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x1":150,"y1":150,"x2":210,"y2":180,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"curviness":0.0,"lines":[{"x-offset":-0.2,"is-visible":false,"dashes":[0.0,1.0]},{"x-offset":0.0,"is-visible":true,"dashes":[1.0,0.0]},{"x-offset":0.2,"is-visible":false,"dashes":[0.0,1.0]}]}});

var BreedManager  = workspace.breedManager;
var LayoutManager = workspace.layoutManager;
var LinkPrims     = workspace.linkPrims;
var ListPrims     = workspace.listPrims;
var MousePrims    = workspace.mousePrims;
var plotManager   = workspace.plotManager;
var Prims         = workspace.prims;
var PrintPrims    = workspace.printPrims;
var OutputPrims   = workspace.outputPrims;
var SelfPrims     = workspace.selfPrims;
var SelfManager   = workspace.selfManager;
var Updater       = workspace.updater;
var world         = workspace.world;

var Call           = tortoise_require('util/call');
var ColorModel     = tortoise_require('util/colormodel');
var Exception      = tortoise_require('util/exception');
var Trig           = tortoise_require('util/trig');
var Type           = tortoise_require('util/typechecker');
var notImplemented = tortoise_require('util/notimplemented');

var Dump      = tortoise_require('engine/dump');
var Link      = tortoise_require('engine/core/link');
var LinkSet   = tortoise_require('engine/core/linkset');
var Nobody    = tortoise_require('engine/core/nobody');
var PatchSet  = tortoise_require('engine/core/patchset');
var Turtle    = tortoise_require('engine/core/turtle');
var TurtleSet = tortoise_require('engine/core/turtleset');
var Tasks     = tortoise_require('engine/prim/tasks');

var AgentModel = tortoise_require('agentmodel');
var Random     = tortoise_require('shim/random');
var StrictMath = tortoise_require('shim/strictmath');
function startup() {
  Call(setup);
}
function setup() {
  world.clearAll();
  world.patches().ask(function() {
    SelfPrims.setPatchVariable('pcolor', 55);
  }, true);
  if (world.observer.getGlobal('grass?')) {
    world.patches().ask(function() {
      SelfPrims.setPatchVariable('countdown', Prims.random(world.observer.getGlobal('grass-regrowth-time')));
      if (Prims.equality(Prims.random(2), 0)) {
        SelfPrims.setPatchVariable('pcolor', 35);
      }
    }, true);
  }
  BreedManager.setDefaultShape(world.turtleManager.turtlesOfBreed("SHEEP").getBreedName(), "sheep")
  world.turtleManager.createTurtles(world.observer.getGlobal('initial-number-sheep'), 'SHEEP').ask(function() {
    SelfPrims.setVariable('color', 9.9);
    SelfPrims.setVariable('size', 1.5);
    SelfPrims.setVariable('label-color', 0);
    SelfPrims.setVariable('energy', Prims.random((2 * world.observer.getGlobal('sheep-gain-from-food'))));
    SelfPrims.setXY(world.topology.randomXcor(), world.topology.randomYcor());
    SelfPrims.setVariable('grabbed?', false);
  }, true);
  BreedManager.setDefaultShape(world.turtleManager.turtlesOfBreed("WOLVES").getBreedName(), "wolf")
  world.turtleManager.createTurtles(world.observer.getGlobal('initial-number-wolves'), 'WOLVES').ask(function() {
    SelfPrims.setVariable('color', 0);
    SelfPrims.setVariable('size', 1.5);
    SelfPrims.setVariable('energy', Prims.random((2 * world.observer.getGlobal('wolf-gain-from-food'))));
    SelfPrims.setXY(world.topology.randomXcor(), world.topology.randomYcor());
  }, true);
  Call(displayLabels);
  Call(doPlot);
  Call(watchOneAnimal);
}
function go() {
  if (!world.turtles().nonEmpty()) {
    throw new Exception.StopInterrupt;
  }
  world.turtleManager.turtlesOfBreed("SHEEP").ask(function() {
    Call(move);
    if (world.observer.getGlobal('grass?')) {
      SelfPrims.setVariable('energy', (SelfPrims.getVariable('energy') - 1));
      Call(eatGrass);
    }
    Call(reproduceSheep);
    Call(death);
  }, true);
  world.turtleManager.turtlesOfBreed("WOLVES").ask(function() {
    Call(move);
    SelfPrims.setVariable('energy', (SelfPrims.getVariable('energy') - 1));
    Call(catchSheep);
    Call(reproduceWolves);
    Call(death);
  }, true);
  if (world.observer.getGlobal('grass?')) {
    world.patches().ask(function() {
      Call(growGrass);
    }, true);
  }
  Call(doPlot);
  Call(displayLabels);
  world.ticker.tick();
}
function move() {
  SelfPrims.right((Prims.randomFloat(50) - Prims.randomFloat(50)));
  SelfPrims.fd(1);
}
function eatGrass() {
  if (Prims.equality(SelfPrims.getPatchVariable('pcolor'), 55)) {
    SelfPrims.setPatchVariable('pcolor', 35);
    SelfPrims.setVariable('energy', (SelfPrims.getVariable('energy') + world.observer.getGlobal('sheep-gain-from-food')));
  }
}
function reproduceSheep() {
  if (Prims.lt(Prims.randomFloat(100), world.observer.getGlobal('sheep-reproduce'))) {
    SelfPrims.setVariable('energy', (SelfPrims.getVariable('energy') / 2));
    SelfPrims.hatch(1, '').ask(function() {
      SelfPrims.right(Prims.randomFloat(360));
      SelfPrims.fd(1);
    }, true);
  }
}
function reproduceWolves() {
  if (Prims.lt(Prims.randomFloat(100), world.observer.getGlobal('wolf-reproduce'))) {
    SelfPrims.setVariable('energy', (SelfPrims.getVariable('energy') / 2));
    SelfPrims.hatch(1, '').ask(function() {
      SelfPrims.right(Prims.randomFloat(360));
      SelfPrims.fd(1);
    }, true);
  }
}
function catchSheep() {
  var prey = ListPrims.oneOf(SelfManager.self().breedHere("SHEEP").agentFilter(function() {
    return !SelfPrims.getVariable('grabbed?');
  }));
  if (!Prims.equality(prey, Nobody)) {
    prey.ask(function() {
      SelfPrims.setVariable('grabbed?', true);
    }, true);
    prey.ask(function() {
      SelfPrims.die();
    }, true);
    SelfPrims.setVariable('energy', (SelfPrims.getVariable('energy') + world.observer.getGlobal('wolf-gain-from-food')));
  }
}
function death() {
  if (Prims.lt(SelfPrims.getVariable('energy'), 0)) {
    SelfPrims.die();
  }
}
function growGrass() {
  if (Prims.equality(SelfPrims.getPatchVariable('pcolor'), 35)) {
    if (Prims.lte(SelfPrims.getPatchVariable('countdown'), 0)) {
      SelfPrims.setPatchVariable('pcolor', 55);
      SelfPrims.setPatchVariable('countdown', world.observer.getGlobal('grass-regrowth-time'));
    }
    else {
      SelfPrims.setPatchVariable('countdown', (SelfPrims.getPatchVariable('countdown') - 1));
    }
  }
}
function doPlot() {
  plotManager.setCurrentPlot("populations");
  plotManager.setCurrentPen("sheep");
  plotManager.plotValue(world.turtleManager.turtlesOfBreed("SHEEP").size());
  plotManager.setCurrentPen("wolves");
  plotManager.plotValue(world.turtleManager.turtlesOfBreed("WOLVES").size());
  if (world.observer.getGlobal('grass?')) {
    plotManager.setCurrentPen("grass / 4");
    plotManager.plotValue((world.patches().agentFilter(function() {
      return Prims.equality(SelfPrims.getPatchVariable('pcolor'), 55);
    }).size() / 4));
  }
}
function displayLabels() {
  if (world.observer.getGlobal('show-energy?')) {
    if (world.observer.getGlobal('grass?')) {
      world.turtles().ask(function() {
        SelfPrims.setVariable('label', StrictMath.round(SelfPrims.getVariable('energy')));
      }, true);
    }
    else {
      world.turtleManager.turtlesOfBreed("WOLVES").ask(function() {
        SelfPrims.setVariable('label', StrictMath.round(SelfPrims.getVariable('energy')));
      }, true);
      world.turtleManager.turtlesOfBreed("SHEEP").ask(function() {
        SelfPrims.setVariable('label', "");
      }, true);
    }
  }
  else {
    world.turtles().ask(function() {
      SelfPrims.setVariable('label', "");
    }, true);
  }
}
function watchOneAnimal() {
  if (Prims.equality(world.observer.getGlobal('watch-one'), true)) {
    world.observer.watch(ListPrims.oneOf(world.turtles()));
  }
}
world.observer.setGlobal('initial-number-sheep', 70);
world.observer.setGlobal('sheep-gain-from-food', 4);
world.observer.setGlobal('sheep-reproduce', 4);
world.observer.setGlobal('initial-number-wolves', 40);
world.observer.setGlobal('wolf-gain-from-food', 20);
world.observer.setGlobal('wolf-reproduce', 5);
world.observer.setGlobal('grass?', true);
world.observer.setGlobal('grass-regrowth-time', 30);
world.observer.setGlobal('show-energy?', false);
world.observer.setGlobal('watch-one', false);
      session.startLoop()
    </script>
  </body>
</html>
