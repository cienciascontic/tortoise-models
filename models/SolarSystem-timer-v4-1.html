



<html>
  <head>
<link rel="stylesheet" type="text/css" href="app.css" charset="utf-8"/>
<link rel="stylesheet" type="text/css" href="app-custom.css" charset="utf-8"/>
  </head>
  <body>
    <div id="model-container"></div>
<script type="text/javascript" src="app.js"></script>
    <script type="text/javascript">
;

      var session =
        (function () {
          var widgets = "[{\"left\":239,\"top\":12,\"right\":733,\"bottom\":527,\"patchSize\":4.0,\"fontSize\":10,\"wrappingAllowedInX\":true,\"wrappingAllowedInY\":true,\"minPxcor\":-60,\"maxPxcor\":60,\"minPycor\":-60,\"maxPycor\":60,\"updateMode\":\"Continuous\",\"showTickCounter\":true,\"tickCounterLabel\":\"ticks\",\"frameRate\":30.0,\"type\":\"view\"},\n{\"compiledSource\":{\"success\":true,\"result\":\"Call(procedures.setup);\"},\"display\":\"Setup\",\"left\":39,\"top\":10,\"right\":124,\"bottom\":43,\"source\":\"Setup\",\"forever\":false,\"buttonType\":\"OBSERVER\",\"actionKey\":null,\"type\":\"button\"},\n{\"compiledSource\":{\"success\":true,\"result\":\"Call(procedures.go);\"},\"display\":\"Go/Stop\",\"left\":11,\"top\":50,\"right\":94,\"bottom\":83,\"source\":\"Go\",\"forever\":true,\"buttonType\":\"OBSERVER\",\"actionKey\":null,\"type\":\"button\"},\n{\"getStep\":function() { return 1; },\"getMin\":function() { return 1; },\"getMax\":function() { return 100; },\"compiledMin\":{\"success\":true,\"result\":\"1\"},\"compiledMax\":{\"success\":true,\"result\":\"100\"},\"compiledStep\":{\"success\":true,\"result\":\"1\"},\"display\":\"Zoom\",\"left\":13,\"top\":135,\"right\":124,\"bottom\":168,\"varName\":\"Zoom\",\"min\":\"1\",\"max\":\"100\",\"default\":15.0,\"step\":\"1\",\"direction\":\"horizontal\",\"type\":\"slider\"},\n{\"display\":\"vieworbits\",\"left\":13,\"top\":95,\"right\":125,\"bottom\":128,\"varName\":\"vieworbits\",\"on\":true,\"type\":\"switch\"},\n{\"compiledSource\":{\"success\":true,\"result\":\"Call(procedures.go);\"},\"display\":\"Go once\",\"left\":115,\"top\":53,\"right\":177,\"bottom\":86,\"source\":\"go\",\"forever\":false,\"buttonType\":\"OBSERVER\",\"actionKey\":null,\"type\":\"button\"},\n{\"display\":\"Slow down the planets using the slider above the Graphics window.\",\"left\":141,\"top\":93,\"right\":218,\"bottom\":196,\"fontSize\":11,\"color\":0.0,\"transparent\":false,\"type\":\"textBox\"},\n{\"reporter\":function() {\n  return world.observer.getGlobal(\"earth\").projectionBy(function() { return SelfPrims.getVariable(\"total_orbitcount\"); });\n},\"compiledSource\":{\"success\":true,\"result\":\"world.observer.getGlobal(\\\"earth\\\").projectionBy(function() { return SelfPrims.getVariable(\\\"total_orbitcount\\\"); })\"},\"display\":\"Earth years\",\"left\":17,\"top\":290,\"right\":126,\"bottom\":335,\"source\":\"[total_orbitcount] of earth\",\"precision\":3,\"fontSize\":11,\"type\":\"monitor\"},\n{\"reporter\":function() {\n  return world.observer.getGlobal(\"mercury\").projectionBy(function() { return SelfPrims.getVariable(\"total_orbitcount\"); });\n},\"compiledSource\":{\"success\":true,\"result\":\"world.observer.getGlobal(\\\"mercury\\\").projectionBy(function() { return SelfPrims.getVariable(\\\"total_orbitcount\\\"); })\"},\"display\":\"Mercury years\",\"left\":19,\"top\":182,\"right\":126,\"bottom\":227,\"source\":\"[total_orbitcount] of mercury\",\"precision\":3,\"fontSize\":11,\"type\":\"monitor\"},\n{\"reporter\":function() {\n  return world.observer.getGlobal(\"venus\").projectionBy(function() { return SelfPrims.getVariable(\"total_orbitcount\"); });\n},\"compiledSource\":{\"success\":true,\"result\":\"world.observer.getGlobal(\\\"venus\\\").projectionBy(function() { return SelfPrims.getVariable(\\\"total_orbitcount\\\"); })\"},\"display\":\"Venus years\",\"left\":18,\"top\":236,\"right\":127,\"bottom\":281,\"source\":\"[total_orbitcount] of venus\",\"precision\":3,\"fontSize\":11,\"type\":\"monitor\"},\n{\"reporter\":function() {\n  return world.observer.getGlobal(\"mars\").projectionBy(function() { return SelfPrims.getVariable(\"total_orbitcount\"); });\n},\"compiledSource\":{\"success\":true,\"result\":\"world.observer.getGlobal(\\\"mars\\\").projectionBy(function() { return SelfPrims.getVariable(\\\"total_orbitcount\\\"); })\"},\"display\":\"Mars years\",\"left\":16,\"top\":343,\"right\":123,\"bottom\":388,\"source\":\"[total_orbitcount] of mars\",\"precision\":3,\"fontSize\":11,\"type\":\"monitor\"},\n{\"reporter\":function() {\n  return world.observer.getGlobal(\"jupiter\").projectionBy(function() { return SelfPrims.getVariable(\"total_orbitcount\"); });\n},\"compiledSource\":{\"success\":true,\"result\":\"world.observer.getGlobal(\\\"jupiter\\\").projectionBy(function() { return SelfPrims.getVariable(\\\"total_orbitcount\\\"); })\"},\"display\":\"Jupiter years\",\"left\":18,\"top\":396,\"right\":125,\"bottom\":441,\"source\":\"[total_orbitcount] of jupiter\\n\",\"precision\":3,\"fontSize\":11,\"type\":\"monitor\"},\n{\"reporter\":function() {\n  return world.observer.getGlobal(\"saturn\").projectionBy(function() { return SelfPrims.getVariable(\"total_orbitcount\"); });\n},\"compiledSource\":{\"success\":true,\"result\":\"world.observer.getGlobal(\\\"saturn\\\").projectionBy(function() { return SelfPrims.getVariable(\\\"total_orbitcount\\\"); })\"},\"display\":\"Saturn years\",\"left\":18,\"top\":450,\"right\":127,\"bottom\":495,\"source\":\"[total_orbitcount] of saturn\",\"precision\":3,\"fontSize\":11,\"type\":\"monitor\"},\n{\"display\":\"RADII:\\nMercury 0.388 \\nVenus 0.722  \\nEarth 1.000\\nMars 1.53\\nJupiter 5.2\\nSaturn 9.54\",\"left\":146,\"top\":190,\"right\":232,\"bottom\":304,\"fontSize\":11,\"color\":0.0,\"transparent\":false,\"type\":\"textBox\"}]";
          var code    = "breed [ planets ]\n\nturtles-own [mass xvelocity yvelocity accx accy newx newy radius avg-radius radius-ratio oldy \n  orbitcount total_orbitcount  orbitcount_old revolutions\n  mylabel sundirection_init sundirection clock]\nglobals [sun earth mars mercury venus jupiter saturn time scale G display_on NearPlanet dist2jupiter \n  dist2saturn jupiterplot saturnplot]\n\nto startup\nsetup\nend\n\nto setup\n    display\n    clear-all\n    clear-output\n    set display_on true\n    set NearPlanet false\n    ;;set Zoom 15 \n    set scale 1\n    set scale Zoom * max-pxcor / 150\n    set time 10\n    set G 1.205 * 10 ^ (0 - 10)     ;Gravitation constant in units of newton*m^2/kg^2 converted to units of Astronomical Units, \n                                    ;AU and earth masses, Me, giving units of AU^3/(Me sec^2)\n    crt 1\n    create-planets 6              \n    \n    ask planets [\n      pen-up \n      set color green\n      ]\n    set sun turtle 0\n    ask sun [\n        set color red\n        set mass 329390 \n        set mylabel \"Sun \"\n        ]\n    ask turtles [set shape \"circle\" set size 3]\n    set mercury turtle 1\n    ask mercury [\n        set mass .0549 \n        set avg-radius 0.388 \n        set mylabel \"Mercury \"\n        ]\n    set venus turtle 2\n    ask venus [\n        set mass .8073 \n        set avg-radius .722 \n        set mylabel \"Venus \"\n        ]\n    set earth turtle 3\n    ask earth [\n        set mass 1 \n        set avg-radius 1.00 \n        set mylabel \"Earth \"\n        set color yellow\n        ]\n    set mars turtle 4\n    ask mars [\n        set mass .1065 \n        set avg-radius 1.53 \n        set mylabel \"Mars \"\n        ]\n    set jupiter turtle 5\n    ask jupiter [\n        set mass 314.5 \n        set avg-radius 5.2 \n        set mylabel \"Jupiter \"\n        ]\n    set saturn turtle 6\n    ask saturn [\n        set mass 94.07 \n        set avg-radius 9.54 \n        set mylabel \"Saturn \"\n        ]\n                            \n   ;planets are randomly positioned, except for the comet, but at the correct distance from the sun, in Astromonical Units.  Masses are in earth-masses.\n   ;calculations are done with newx and newy as actual coordinates, then translated into NetLogo screen units scaled to show more or fewer planets orbiting, as desired\n\n    ask planets with [who < 7][\n                ifelse random 2 = 0 \n                    [set newx random-float avg-radius]\n                    [set newx 0 - random-float avg-radius] \n                ifelse random 2 = 0 \n                    [set newy sqrt (avg-radius ^ 2 - newx ^ 2)]\n                    [set newy 0 - sqrt (avg-radius ^ 2 - newx ^ 2)]\n            ]\n    ask planets [\n                ifelse abs (newx * scale) > max-pxcor or abs (newy * scale) > max-pxcor \n                    [set hidden? true setxy newx * scale newy * scale]\n                    [set hidden? false setxy newx * scale newy * scale]\n                ] \n\n    ask planets [\n      set radius sqrt(newx ^ 2 + newy ^ 2)\n      set sundirection_init 360 - ((180 + towardsxy 0 0) mod 360)\n      set orbitcount 0\n      set total_orbitcount 0\n      set revolutions 0\n      set clock 0 \n      set label mylabel\n        ]\n \n\n    ;Compute the initial velocity in x and y directions to produce an approximate circular orbit of radius calculated above regardless of where start point is.\n    ;This comes from a = v^2/r for tangential velocity and a = -G*M/r^2. Solve for v at x = r.  Then v = -sqrt(G*M/r).  Then compute v in x and y directions.\n    ;Using sin ((towards-nowrap sun) - 180) and cos ((towards-nowrap sun) - 180) to compute y and x components of velocity, respectively, gives the correct \n    ;sign for the resulting value regardless of which quadrant the planets are located.\n    \n    ask planets with [who < 7][\n        set yvelocity sqrt (([mass] of sun * G) / radius) * sin ((towards sun) - 180)\n        set xvelocity 0 - sqrt (([mass] of sun * G) / radius) * cos ((towards sun) - 180)\n         ]\n         \n   \n        ;compute acceleration in x and y directions due to sun's gravity only\n    ask planets [\n        set accx 0 - ((newx * [mass] of sun * G) / radius ^ 3) \n        set accy 0 - ((newy * [mass] of sun * G) / radius ^ 3)\n         ]\n         \n        ;compute acceleration in x and y directions due to gravities of other planets - each planet computes influence of other planets excluding itself\n        ;and combine accelerations due to sun and other planets\n              ;;switch allows turning off effects of other planets and use gravity of sun only  \n                ask planets [\n                    ask planets with [who != [who] of myself] [\n                        ask myself [\n                          set accx accx - (((mass * G ) * ([newx] of myself - newx))/(sqrt ( (newx - [newx] of myself ) ^ 2 + (newy - [newy] of myself) ^ 2)) ^ 3)\n                          set accy accy - (((mass * G ) * ([newy] of myself - newy))/(sqrt ( (newx - [newx] of myself ) ^ 2 + (newy - [newy] of myself) ^ 2)) ^ 3)\n                                                            ]\n                            ]\n                ]\n                 \n        ;compute the average velocity that will apply for the time period used to compute the next position, estimated by computing velocity at one half the time period\n        ;and applying it for the entire time period.  The new velocity is the initial velocity plus the acceleration applied over t/2 seconds.\n    ask planets [\n                set xvelocity xvelocity + accx * time / 2 \n                set yvelocity yvelocity + accy * time / 2\n                ]\n                \n    reset-ticks\nend\n\n\nto go\n   orbit-sun\nend\n\n\nto orbit-sun\n    set scale Zoom * max-pxcor / 150\n    \n   ifelse vieworbits = true \n        [ask turtles [pen-down]]\n        [ask turtles [pen-up]]\n        \n    ask planets [                                ;;compute new positions for all orbiting bodies\n                set newx newx + xvelocity * time  \n                set newy newy + yvelocity * time\n     ;;hide any turtle whose new position is off-screen\n                ifelse abs (newx * scale) > max-pxcor or abs (newy * scale) > max-pxcor \n                    [set hidden? true]\n                    [set hidden? false \n                     setxy newx * scale newy * scale]\n                set radius sqrt(newx ^ 2 + newy ^ 2)\n     ;;compute new accelerations for all orbiting bodies based on sun's gravity.  Equations are the same as in setup.\n                set accx 0 - ((newx * [mass] of sun * G) / radius ^ 3) \n                set accy 0 - ((newy * [mass] of sun * G) / radius ^ 3)\n   \n        ;;unless only the sun's gravity is to be considered, each orbiting body asks all other orbiting bodies for their contribution to its acceleration\n                     ask planets with [who != [who] of myself] [\n                         ask myself [  \n                           set accx (accx - (((mass * G) * ([newx] of myself - newx))/(sqrt ( (newx - [newx] of myself ) ^ 2 + (newy - [newy] of myself) ^ 2)) ^ 3))\n                           set accy (accy - (((mass * G) * ([newy] of myself - newy))/(sqrt ( (newx - [newx] of myself ) ^ 2 + (newy - [newy] of myself) ^ 2)) ^ 3))\n                                                             ]]\n                      \n         ]\n \n    ask planets [        ;;compute new velocities\n                set xvelocity xvelocity + accx * time \n                set yvelocity yvelocity + accy * time\n                set label mylabel\n                ]\n                 \n  ;;  ask planets [                ;;keep track of number of orbits each planet makes\n    ;;    if oldy < 0 and newy > 0 \n     ;;       [set orbitcount orbitcount + 1]\n       ;;      set oldy newy ]\n                \n     ask planets [             ;;keep track of number of orbits each planet makes\n\n\n   ;; if   ( (360 - ((180 + towardsxy 0 0) mod 360)) < sundirection )\n\n ;;        [set clock clock + 1] \n ;;;360 - ((180 + towardsxy 0 0) mod 360)              \n      set sundirection 360 - ((180 + towardsxy 0 0) mod 360)\n \n   set orbitcount_old orbitcount\n   if sundirection > sundirection_init\n       [set orbitcount  (sundirection - sundirection_init) / 360]\n   if sundirection < sundirection_init\n       [set orbitcount  (360 + sundirection - sundirection_init) / 360]\n   if orbitcount - orbitcount_old < 0\n       [set revolutions revolutions + 1]\n   set total_orbitcount revolutions + orbitcount\n       ]\n    ;ask planets [set oldy newy]\n    \n    ;;keep track of ratio of current radius to initial average radius for both earth and comet so they can be plotted\n    ask earth [set radius-ratio ((radius  / (avg-radius)))]\nend\n               \n";
          var info    = "This model is a modification of \"Solar System\" by Jerry James (2/13/03). It allows one to compare the orbiting times of the six historical planets. The original model focuses on the effect of a comet. This version focuses on the relative orbit times of the planets.  \n\nThis model mimics the solar system.  Setup creates the sun and five planets.  Unlike in the real solar system, these orbiting bodies are in the same plane, and setup distributes the planets randomly.  However, the planets are at the   \ncorrect relative distances from the sun and have correct relative masses.    \nAs the model is run, the number  of orbits of  each planet is given to three decimal places.\n\nTo Run the Model\n\n	Just press Setup. Setup resets Zoom to 15, which shows all six planets. To view the motions of the inner planets, increase Zoom. The initial angle of each planet is preserved with a radial line.\n\n	Press Go. It may be useful to slow down the model using the speed slider above the graphic window. Or to search for a specific value, use the \"go once\" button.\n\nIf you want to confirm Kepler's Law that relates the radius of the orbit to the period, compare each planet to the earth. The Procedures show the radius of each planet's orbit, and the year monitors show the number of orbits (years) compared to the earth years.\n\n	Notes:\n \n\n	The speed adjustment actually changes the size of time intervals at which the new planet positions are updated. This affects the accuracy of the orbits.  At a speed setting of 10 there are about 1000 updates of the position of the earth per  \nrevolution of the sun, but only about 250 for Mercury.  At a speed setting of 1 there are ten times as many updates per  revolution.  The effects of speed settings on the orbit calculations can be seen by setting the Sun_Only switch to \"on\" and  \nobserving the orbital plots for both earth and comet at different speed settings.  The ellipticity of the earth's orbit decreases as the number of updates per year increases.\n\nWhile the Model is Running\n\n	To increase the speed of execution without affecting computation accuracy, turn the display off by pressing Display On/Off.\n	This is a toggle which alternately stops the display from showing the changing planet positions, or resumes showing their\n	positions.  \n\nCalculations\n	\n	Computing the acceleration of object #1 towards object #2 due to gravity:\n\n		From F = ma = -GMm/r^2 and solving for the x and y components of acceleration a we get accx = -GMx/r^3 and accy = -GMy/r^3\n		where accx and accy are the accelerations in the x and y directions, x and y are the distances in x and y directions between\n		the objects #1 and #2, M is the mass of object #2 (the mass m of object #1 cancels out), G is the gravitational constant, and \n		r = sqrt(x^2 + y^2). G is expressed in terms of Astronomical Units, AU and earth masses, Me, giving units of AU^3/(Me sec^2).\n\n	Computing the inital conditions\n\n		After the planets are randomly placed at their proper orbiting distances from the sun, the initial velocities are computed\n		from the equation v = -sqrt(G*M/r) where v = tangential velocity.  The velocities in the x and y directions are then\n		x-velocity = v * sin (angle) and y-velocity = v * cos (angle) where angle is reported from (towards-nowrap sun - 180).		\n\n		The initial accelerations are computed as described above, with each planet having the effects of the sun's and all the other \n		planets' gravity on itself computed.\n\n		At each time interval a new x and y position for each planet and the comet is computed based on the x and y velocities for\n		that time period.  Since the velocities at the beginning of the time interval increase by (acceleration * time) the\n		average velocity for each time period is used.  For the first time period this is computed by adding to the initial velocity\n		the acceleration * time/2.\n\n\n\n";
          return Tortoise.fromCompiledModel('#model-container', widgets, code, info, '', true);
        })();
      var AgentModel = tortoise_require('agentmodel');
var Call = tortoise_require('util/call');
var ColorModel = tortoise_require('engine/core/colormodel');
var Dump = tortoise_require('engine/dump');
var Exception = tortoise_require('util/exception');
var Link = tortoise_require('engine/core/link');
var LinkSet = tortoise_require('engine/core/linkset');
var Meta = tortoise_require('meta');
var NLMath = tortoise_require('util/nlmath');
var NLType = tortoise_require('engine/core/typechecker');
var Nobody = tortoise_require('engine/core/nobody');
var PatchSet = tortoise_require('engine/core/patchset');
var PenBundle = tortoise_require('engine/plot/pen');
var Plot = tortoise_require('engine/plot/plot');
var PlotOps = tortoise_require('engine/plot/plotops');
var Random = tortoise_require('shim/random');
var StrictMath = tortoise_require('shim/strictmath');
var Tasks = tortoise_require('engine/prim/tasks');
var Turtle = tortoise_require('engine/core/turtle');
var TurtleSet = tortoise_require('engine/core/turtleset');
var notImplemented = tortoise_require('util/notimplemented');
var modelConfig = (typeof window.modelConfig !== "undefined" && window.modelConfig !== null) ? window.modelConfig : {};
var modelPlotOps = (typeof modelConfig.plotOps !== "undefined" && modelConfig.plotOps !== null) ? modelConfig.plotOps : {};
if (typeof javax !== "undefined") {
  modelConfig.output = {
    clear: function() {},
    write: function(str) { context.getWriter().print(str); }
  }
}
modelConfig.plots = [];
var workspace = tortoise_require('engine/workspace')(modelConfig)([{ name: "PLANETS", singular: "turtle", varNames: [] }])(["mass", "xvelocity", "yvelocity", "accx", "accy", "newx", "newy", "radius", "avg-radius", "radius-ratio", "oldy", "orbitcount", "total_orbitcount", "orbitcount_old", "revolutions", "mylabel", "sundirection_init", "sundirection", "clock"], [])(["zoom", "vieworbits", "sun", "earth", "mars", "mercury", "venus", "jupiter", "saturn", "time", "scale", "g", "display_on", "nearplanet", "dist2jupiter", "dist2saturn", "jupiterplot", "saturnplot"], ["zoom", "vieworbits"], [], -60, 60, -60, 60, 4.0, true, true, {"default":{"rotate":true,"elements":[{"xcors":[150,40,150,260],"ycors":[5,250,205,250],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"ant":{"rotate":true,"elements":[{"xcors":[136,129,144,119,124,114,97,132,93,111,127,172,189,208,171,202,204,186,177,180,159,170,165],"ycors":[61,46,30,45,60,82,37,10,36,84,105,105,84,35,11,35,37,82,60,44,32,44,60],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[150,135,139,125,137,135,150,166,161,174,158,164],"ycors":[95,103,117,149,180,196,204,195,180,150,116,102],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[149,128,114,134,149,166,185,171,149],"ycors":[186,197,232,270,282,270,232,195,186],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[225,230,159,161,234,236],"ycors":[66,107,122,127,111,106],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[78,99,139,137,95],"ycors":[58,116,123,128,119],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[48,90,129,130,86],"ycors":[103,147,147,151,151],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[65,92,134,135,95],"ycors":[224,171,160,164,175],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[235,210,163,161,208],"ycors":[222,170,162,166,174],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[249,211,168,168,213],"ycors":[107,147,147,150,150],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"arrow":{"rotate":true,"elements":[{"xcors":[150,0,105,105,195,195,300],"ycors":[0,150,150,293,293,150,150],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"bee":{"rotate":true,"elements":[{"xcors":[151,137,105,89,66,48,36,24,14,0,15,22,40,58,82,105,134],"ycors":[152,77,67,67,74,85,100,116,134,151,167,182,206,220,226,226,222],"type":"polygon","color":"rgba(237, 237, 49, 1.0)","filled":true,"marked":false},{"xcors":[151,149,149,155,178,197,217,233,242,246,247,245,234,218,206,184,161,151,148],"ycors":[150,128,114,98,80,80,81,95,117,141,151,177,195,207,211,211,204,189,171],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xcors":[246,241,240,250,261,275,282,277,287,299,286,277,283,281,270,256,243,242],"ycors":[151,119,96,81,78,87,103,115,121,150,180,189,197,210,222,222,212,192],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[115,129,128,114],"ycors":[70,74,223,224],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xcors":[89,74,74,89,89],"ycors":[67,71,224,225,67],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xcors":[43,31,31,45],"ycors":[91,106,195,211],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x1":200,"y1":144,"x2":213,"y2":70,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":213,"y1":70,"x2":213,"y2":45,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":214,"y1":45,"x2":203,"y2":26,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":204,"y1":26,"x2":185,"y2":22,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":185,"y1":22,"x2":170,"y2":25,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":169,"y1":26,"x2":159,"y2":37,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":159,"y1":37,"x2":156,"y2":55,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":157,"y1":55,"x2":199,"y2":143,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":200,"y1":141,"x2":162,"y2":227,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":162,"y1":227,"x2":163,"y2":241,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":163,"y1":241,"x2":171,"y2":249,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":171,"y1":249,"x2":190,"y2":254,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":192,"y1":253,"x2":203,"y2":248,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":205,"y1":249,"x2":218,"y2":235,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false},{"x1":218,"y1":235,"x2":200,"y2":144,"type":"line","color":"rgba(255, 255, 255, 1.0)","filled":false,"marked":false}]},"bird1":{"rotate":false,"elements":[{"xcors":[2,2,270,297,299,187,279,276,100,31],"ycors":[6,39,298,298,271,160,75,22,67,0],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"bird2":{"rotate":false,"elements":[{"xcors":[2,33,298,298,272,155,117,61,61,0],"ycors":[4,4,270,298,298,184,289,295,105,43],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"boat1":{"rotate":false,"elements":[{"xcors":[63,90,223,290],"ycors":[162,207,207,162],"type":"polygon","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xmin":150,"ymin":32,"xmax":157,"ymax":162,"type":"rectangle","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":false},{"xcors":[150,131,145,147,149],"ycors":[34,49,47,48,49],"type":"polygon","color":"rgba(52, 93, 169, 1.0)","filled":true,"marked":false},{"xcors":[158,230,182,169,157],"ycors":[33,157,150,151,156],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[149,88,103,111,117,126,130,139,146,149],"ycors":[55,143,139,136,139,145,147,147,146,55],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"boat2":{"rotate":false,"elements":[{"xcors":[63,90,223,290],"ycors":[162,207,207,162],"type":"polygon","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xmin":150,"ymin":32,"xmax":157,"ymax":162,"type":"rectangle","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":false},{"xcors":[150,131,145,147,149],"ycors":[34,49,47,48,49],"type":"polygon","color":"rgba(52, 93, 169, 1.0)","filled":true,"marked":false},{"xcors":[157,175,174,185,178,194,196,190,192,211,216,157],"ycors":[54,79,96,102,112,124,131,139,146,151,154,154],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[150,146,139,143,141,137,131,132,142,126,119,148],"ycors":[74,91,99,114,123,126,129,139,136,142,147,147],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"boat3":{"rotate":false,"elements":[{"xcors":[63,90,223,290],"ycors":[162,207,207,162],"type":"polygon","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xmin":150,"ymin":32,"xmax":157,"ymax":162,"type":"rectangle","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":false},{"xcors":[150,131,145,147,149],"ycors":[34,49,47,48,49],"type":"polygon","color":"rgba(52, 93, 169, 1.0)","filled":true,"marked":false},{"xcors":[158,172,188,202,217,220,218,204,158,161,170,170,169,165],"ycors":[37,45,59,79,109,130,147,156,156,142,123,102,88,62],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[149,142,139,141,146,148,110,113,118,126],"ycors":[66,78,96,111,139,147,147,131,106,71],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"box":{"rotate":true,"elements":[{"xcors":[45,255,255,45],"ycors":[255,255,45,45],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"butterfly1":{"rotate":true,"elements":[{"xcors":[151,138,138,150,162,162],"ycors":[76,91,284,296,286,91],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xcors":[164,184,205,236,259,279,287,289,278,256,164],"ycors":[106,79,61,48,53,86,119,158,177,182,181],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[136,119,110,85,59,36,17,6,2,15,134],"ycors":[110,82,71,61,48,56,88,115,147,178,178],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[46,28,50,77,112,135,135],"ycors":[181,227,255,273,283,274,180],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[165,254,272,255,236,191,164],"ycors":[185,184,224,251,267,283,276],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x1":167,"y1":47,"x2":159,"y2":82,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x1":136,"y1":47,"x2":145,"y2":81,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x":165,"y":45,"diam":8,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":134,"y":45,"diam":6,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":133,"y":44,"diam":7,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x":133,"y":43,"diam":8,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"circle":{"rotate":false,"elements":[{"x":35,"y":35,"diam":230,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"link":{"rotate":true,"elements":[{"x1":150,"y1":0,"x2":150,"y2":300,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"link direction":{"rotate":true,"elements":[{"x1":150,"y1":150,"x2":30,"y2":225,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x1":150,"y1":150,"x2":270,"y2":225,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"person":{"rotate":false,"elements":[{"x":155,"y":20,"diam":63,"type":"circle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":158,"ymin":79,"xmax":217,"ymax":164,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[158,110,131,158,165],"ycors":[81,129,143,109,110],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[216,267,248,215],"ycors":[83,123,143,107],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[167,145,183,183],"ycors":[163,234,234,163],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[195,195,227,206],"ycors":[163,233,233,159],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"sheep":{"rotate":false,"elements":[{"xmin":90,"ymin":75,"xmax":270,"ymax":225,"type":"rectangle","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":true},{"x":15,"y":75,"diam":150,"type":"circle","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":true},{"xmin":81,"ymin":225,"xmax":134,"ymax":286,"type":"rectangle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xmin":180,"ymin":225,"xmax":238,"ymax":285,"type":"rectangle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"x":1,"y":88,"diam":92,"type":"circle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false}]},"spacecraft":{"rotate":true,"elements":[{"xcors":[150,180,255,225,150,75,45,120],"ycors":[0,135,255,240,180,240,255,135],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"thin-arrow":{"rotate":true,"elements":[{"xcors":[150,0,120,120,180,180,300],"ycors":[0,150,150,293,293,150,150],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"truck-down":{"rotate":false,"elements":[{"xcors":[225,225,120,105,60,45,105,105],"ycors":[30,270,270,210,180,30,60,30],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[195,195,240,240],"ycors":[75,120,120,75],"type":"polygon","color":"rgba(124, 80, 164, 1.0)","filled":true,"marked":false},{"xcors":[195,195,240,240],"ycors":[225,180,180,225],"type":"polygon","color":"rgba(124, 80, 164, 1.0)","filled":true,"marked":false}]},"truck-left":{"rotate":false,"elements":[{"xcors":[120,225,225,75,75,105],"ycors":[135,135,210,210,165,165],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[90,105,120],"ycors":[210,225,210],"type":"polygon","color":"rgba(124, 80, 164, 1.0)","filled":true,"marked":false},{"xcors":[180,195,210],"ycors":[210,225,210],"type":"polygon","color":"rgba(124, 80, 164, 1.0)","filled":true,"marked":false}]},"truck-right":{"rotate":false,"elements":[{"xcors":[180,75,75,225,225,195],"ycors":[135,135,210,210,165,165],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[210,195,180],"ycors":[210,225,210],"type":"polygon","color":"rgba(124, 80, 164, 1.0)","filled":true,"marked":false},{"xcors":[120,105,90],"ycors":[210,225,210],"type":"polygon","color":"rgba(124, 80, 164, 1.0)","filled":true,"marked":false}]},"turtle":{"rotate":true,"elements":[{"xcors":[138,162,165,225,225,195,195,225,225,195,195,105,105,75,75,105,105,75,75,135],"ycors":[75,75,105,105,142,135,187,195,225,217,202,202,217,225,195,187,135,142,105,105],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true}]},"wolf":{"rotate":false,"elements":[{"xmin":15,"ymin":105,"xmax":105,"ymax":165,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":45,"ymin":90,"xmax":105,"ymax":105,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[60,83,104],"ycors":[90,44,90],"type":"polygon","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xcors":[67,82,97],"ycors":[90,59,89],"type":"polygon","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xmin":48,"ymin":93,"xmax":59,"ymax":105,"type":"rectangle","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xmin":51,"ymin":96,"xmax":55,"ymax":101,"type":"rectangle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xmin":0,"ymin":121,"xmax":15,"ymax":135,"type":"rectangle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xmin":15,"ymin":136,"xmax":60,"ymax":151,"type":"rectangle","color":"rgba(0, 0, 0, 1.0)","filled":true,"marked":false},{"xcors":[15,23,31],"ycors":[136,149,136],"type":"polygon","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xcors":[30,37,43],"ycors":[151,136,151],"type":"polygon","color":"rgba(255, 255, 255, 1.0)","filled":true,"marked":false},{"xmin":105,"ymin":120,"xmax":263,"ymax":195,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":108,"ymin":195,"xmax":259,"ymax":201,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":114,"ymin":201,"xmax":252,"ymax":210,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":120,"ymin":210,"xmax":243,"ymax":214,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":115,"ymin":114,"xmax":255,"ymax":120,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":128,"ymin":108,"xmax":248,"ymax":114,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":150,"ymin":105,"xmax":225,"ymax":108,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":132,"ymin":214,"xmax":155,"ymax":270,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":110,"ymin":260,"xmax":132,"ymax":270,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":210,"ymin":214,"xmax":232,"ymax":270,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"xmin":189,"ymin":260,"xmax":210,"ymax":270,"type":"rectangle","color":"rgba(141, 141, 141, 1.0)","filled":true,"marked":true},{"x1":263,"y1":127,"x2":281,"y2":155,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x1":281,"y1":155,"x2":281,"y2":192,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"wolf-left":{"rotate":false,"elements":[{"xcors":[117,91,66,60,36,38,44,62,81,84,92,109,136,174,174,143,134],"ycors":[97,74,74,85,85,92,97,97,117,134,147,152,144,144,103,103,97],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[87,79,76],"ycors":[80,55,79],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[81,70,73],"ycors":[75,58,82],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[99,76,76,96,104,109,102,99,87,104],"ycors":[131,152,163,182,182,173,167,173,159,140],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[107,107,98,99,112,115],"ycors":[138,186,190,196,196,190],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[116,114,105],"ycors":[140,189,137],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xmin":109,"ymin":150,"xmax":114,"ymax":192,"type":"rectangle","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xmin":111,"ymin":143,"xmax":116,"ymax":191,"type":"rectangle","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[168,184,205,218,218,186,196,195,178,178,188,169,173],"ycors":[106,98,98,115,137,164,176,194,195,183,183,164,144],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[207,200,206,207,193,192,198,185],"ycors":[140,163,175,192,189,177,176,150],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[214,203,192],"ycors":[134,168,148],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[204,203,193],"ycors":[151,176,148],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[207,221,236,243,243,256,239,233,225,214],"ycors":[103,98,101,115,128,142,143,133,115,114],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true}]},"wolf-right":{"rotate":false,"elements":[{"xcors":[170,200,231,237,262,261,253,231,215,213,208,189,169,154,126,106,72,73,122,144,159],"ycors":[127,93,93,103,103,113,119,119,143,160,173,187,190,190,180,171,171,126,126,123,123],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[201,214,215],"ycors":[99,69,99],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[207,223,220],"ycors":[98,71,101],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[184,189,203,203,187,180,171],"ycors":[172,234,238,246,247,239,180],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[197,204,218,219,201,195,179],"ycors":[174,220,224,234,232,225,179],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[78,95,95,79,92,98,100,81,76,61,65,52,45,44,55,69,81],"ycors":[167,187,208,220,234,235,249,246,241,212,195,170,150,128,121,121,135],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[48,58],"ycors":[143,141],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[46,68],"ycors":[136,137],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[45,35,37,53,47,62,80],"ycors":[129,142,159,192,210,238,237],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"x1":74,"y1":237,"x2":59,"y2":213,"type":"line","color":"rgba(0, 0, 0, 1.0)","filled":false,"marked":false},{"x1":59,"y1":213,"x2":59,"y2":212,"type":"line","color":"rgba(0, 0, 0, 1.0)","filled":false,"marked":false},{"x1":58,"y1":211,"x2":67,"y2":192,"type":"line","color":"rgba(0, 0, 0, 1.0)","filled":false,"marked":false},{"xcors":[38,66],"ycors":[138,149],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[46,33,21,11,3,5,13,9,0,20,25,24,25,45],"ycors":[128,120,118,123,138,160,178,192,199,196,179,161,148,140],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true},{"xcors":[67,96,63],"ycors":[122,126,144],"type":"polygon","color":"rgba(157, 110, 72, 1.0)","filled":true,"marked":true}]}}, {"default":{"direction-indicator":{"rotate":true,"elements":[{"x1":150,"y1":150,"x2":90,"y2":180,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true},{"x1":150,"y1":150,"x2":210,"y2":180,"type":"line","color":"rgba(141, 141, 141, 1.0)","filled":false,"marked":true}]},"curviness":0.0,"lines":[{"x-offset":-0.2,"is-visible":false,"dash-pattern":[0.0,1.0]},{"x-offset":0.0,"is-visible":true,"dash-pattern":[1.0,0.0]},{"x-offset":0.2,"is-visible":false,"dash-pattern":[0.0,1.0]}]}}, function(){});
var BreedManager = workspace.breedManager;
var LayoutManager = workspace.layoutManager;
var LinkPrims = workspace.linkPrims;
var ListPrims = workspace.listPrims;
var MousePrims = workspace.mousePrims;
var OutputPrims = workspace.outputPrims;
var Prims = workspace.prims;
var PrintPrims = workspace.printPrims;
var SelfManager = workspace.selfManager;
var SelfPrims = workspace.selfPrims;
var Updater = workspace.updater;
var plotManager = workspace.plotManager;
var world = workspace.world;
var procedures = (function() {
  var startup = function() { Call(procedures.setup); };
  var setup = function() {
    notImplemented('display', undefined)();
    world.clearAll();
    OutputPrims.clear();
    world.observer.setGlobal("display_on", true);
    world.observer.setGlobal("nearplanet", false);
    world.observer.setGlobal("scale", 1);
    world.observer.setGlobal("scale", ((world.observer.getGlobal("zoom") * world.topology.maxPxcor) / 150));
    world.observer.setGlobal("time", 10);
    world.observer.setGlobal("g", (1.205 * NLMath.pow(10, (0 - 10))));
    world.turtleManager.createTurtles(1, "").ask(function() {}, true);
    world.turtleManager.createTurtles(6, "PLANETS").ask(function() {}, true);
    world.turtleManager.turtlesOfBreed("PLANETS").ask(function() {
      SelfManager.self().penManager.raisePen();
      SelfPrims.setVariable("color", 55);
    }, true);
    world.observer.setGlobal("sun", world.turtleManager.getTurtle(0));
    world.observer.getGlobal("sun").ask(function() {
      SelfPrims.setVariable("color", 15);
      SelfPrims.setVariable("mass", 329390);
      SelfPrims.setVariable("mylabel", "Sun ");
    }, true);
    world.turtles().ask(function() {
      SelfPrims.setVariable("shape", "circle");
      SelfPrims.setVariable("size", 3);
    }, true);
    world.observer.setGlobal("mercury", world.turtleManager.getTurtle(1));
    world.observer.getGlobal("mercury").ask(function() {
      SelfPrims.setVariable("mass", 0.0549);
      SelfPrims.setVariable("avg-radius", 0.388);
      SelfPrims.setVariable("mylabel", "Mercury ");
    }, true);
    world.observer.setGlobal("venus", world.turtleManager.getTurtle(2));
    world.observer.getGlobal("venus").ask(function() {
      SelfPrims.setVariable("mass", 0.8073);
      SelfPrims.setVariable("avg-radius", 0.722);
      SelfPrims.setVariable("mylabel", "Venus ");
    }, true);
    world.observer.setGlobal("earth", world.turtleManager.getTurtle(3));
    world.observer.getGlobal("earth").ask(function() {
      SelfPrims.setVariable("mass", 1);
      SelfPrims.setVariable("avg-radius", 1);
      SelfPrims.setVariable("mylabel", "Earth ");
      SelfPrims.setVariable("color", 45);
    }, true);
    world.observer.setGlobal("mars", world.turtleManager.getTurtle(4));
    world.observer.getGlobal("mars").ask(function() {
      SelfPrims.setVariable("mass", 0.1065);
      SelfPrims.setVariable("avg-radius", 1.53);
      SelfPrims.setVariable("mylabel", "Mars ");
    }, true);
    world.observer.setGlobal("jupiter", world.turtleManager.getTurtle(5));
    world.observer.getGlobal("jupiter").ask(function() {
      SelfPrims.setVariable("mass", 314.5);
      SelfPrims.setVariable("avg-radius", 5.2);
      SelfPrims.setVariable("mylabel", "Jupiter ");
    }, true);
    world.observer.setGlobal("saturn", world.turtleManager.getTurtle(6));
    world.observer.getGlobal("saturn").ask(function() {
      SelfPrims.setVariable("mass", 94.07);
      SelfPrims.setVariable("avg-radius", 9.54);
      SelfPrims.setVariable("mylabel", "Saturn ");
    }, true);
    world.turtleManager.turtlesOfBreed("PLANETS").agentFilter(function() { return Prims.lt(SelfPrims.getVariable("who"), 7); }).ask(function() {
      if (Prims.equality(Prims.random(2), 0)) {
        SelfPrims.setVariable("newx", Prims.randomFloat(SelfPrims.getVariable("avg-radius")));
      }
      else {
        SelfPrims.setVariable("newx", (0 - Prims.randomFloat(SelfPrims.getVariable("avg-radius"))));
      }
      if (Prims.equality(Prims.random(2), 0)) {
        SelfPrims.setVariable("newy", NLMath.sqrt((NLMath.pow(SelfPrims.getVariable("avg-radius"), 2) - NLMath.pow(SelfPrims.getVariable("newx"), 2))));
      }
      else {
        SelfPrims.setVariable("newy", (0 - NLMath.sqrt((NLMath.pow(SelfPrims.getVariable("avg-radius"), 2) - NLMath.pow(SelfPrims.getVariable("newx"), 2)))));
      }
    }, true);
    world.turtleManager.turtlesOfBreed("PLANETS").ask(function() {
      if ((Prims.gt(NLMath.abs((SelfPrims.getVariable("newx") * world.observer.getGlobal("scale"))), world.topology.maxPxcor) || Prims.gt(NLMath.abs((SelfPrims.getVariable("newy") * world.observer.getGlobal("scale"))), world.topology.maxPxcor))) {
        SelfPrims.setVariable("hidden?", true);
        SelfPrims.setXY((SelfPrims.getVariable("newx") * world.observer.getGlobal("scale")), (SelfPrims.getVariable("newy") * world.observer.getGlobal("scale")));
      }
      else {
        SelfPrims.setVariable("hidden?", false);
        SelfPrims.setXY((SelfPrims.getVariable("newx") * world.observer.getGlobal("scale")), (SelfPrims.getVariable("newy") * world.observer.getGlobal("scale")));
      }
    }, true);
    world.turtleManager.turtlesOfBreed("PLANETS").ask(function() {
      SelfPrims.setVariable("radius", NLMath.sqrt((NLMath.pow(SelfPrims.getVariable("newx"), 2) + NLMath.pow(SelfPrims.getVariable("newy"), 2))));
      SelfPrims.setVariable("sundirection_init", (360 - NLMath.mod((180 + SelfManager.self().towardsXY(0, 0)), 360)));
      SelfPrims.setVariable("orbitcount", 0);
      SelfPrims.setVariable("total_orbitcount", 0);
      SelfPrims.setVariable("revolutions", 0);
      SelfPrims.setVariable("clock", 0);
      SelfPrims.setVariable("label", SelfPrims.getVariable("mylabel"));
    }, true);
    world.turtleManager.turtlesOfBreed("PLANETS").agentFilter(function() { return Prims.lt(SelfPrims.getVariable("who"), 7); }).ask(function() {
      SelfPrims.setVariable("yvelocity", (NLMath.sqrt(((world.observer.getGlobal("sun").projectionBy(function() { return SelfPrims.getVariable("mass"); }) * world.observer.getGlobal("g")) / SelfPrims.getVariable("radius"))) * NLMath.sin((SelfManager.self().towards(world.observer.getGlobal("sun")) - 180))));
      SelfPrims.setVariable("xvelocity", (0 - (NLMath.sqrt(((world.observer.getGlobal("sun").projectionBy(function() { return SelfPrims.getVariable("mass"); }) * world.observer.getGlobal("g")) / SelfPrims.getVariable("radius"))) * NLMath.cos((SelfManager.self().towards(world.observer.getGlobal("sun")) - 180)))));
    }, true);
    world.turtleManager.turtlesOfBreed("PLANETS").ask(function() {
      SelfPrims.setVariable("accx", (0 - (((SelfPrims.getVariable("newx") * world.observer.getGlobal("sun").projectionBy(function() { return SelfPrims.getVariable("mass"); })) * world.observer.getGlobal("g")) / NLMath.pow(SelfPrims.getVariable("radius"), 3))));
      SelfPrims.setVariable("accy", (0 - (((SelfPrims.getVariable("newy") * world.observer.getGlobal("sun").projectionBy(function() { return SelfPrims.getVariable("mass"); })) * world.observer.getGlobal("g")) / NLMath.pow(SelfPrims.getVariable("radius"), 3))));
    }, true);
    world.turtleManager.turtlesOfBreed("PLANETS").ask(function() {
      world.turtleManager.turtlesOfBreed("PLANETS").agentFilter(function() {
        return !Prims.equality(SelfPrims.getVariable("who"), SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("who"); }));
      }).ask(function() {
        SelfManager.myself().ask(function() {
          SelfPrims.setVariable("accx", (SelfPrims.getVariable("accx") - (((SelfPrims.getVariable("mass") * world.observer.getGlobal("g")) * (SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("newx"); }) - SelfPrims.getVariable("newx"))) / NLMath.pow(NLMath.sqrt((NLMath.pow((SelfPrims.getVariable("newx") - SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("newx"); })), 2) + NLMath.pow((SelfPrims.getVariable("newy") - SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("newy"); })), 2))), 3))));
          SelfPrims.setVariable("accy", (SelfPrims.getVariable("accy") - (((SelfPrims.getVariable("mass") * world.observer.getGlobal("g")) * (SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("newy"); }) - SelfPrims.getVariable("newy"))) / NLMath.pow(NLMath.sqrt((NLMath.pow((SelfPrims.getVariable("newx") - SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("newx"); })), 2) + NLMath.pow((SelfPrims.getVariable("newy") - SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("newy"); })), 2))), 3))));
        }, true);
      }, true);
    }, true);
    world.turtleManager.turtlesOfBreed("PLANETS").ask(function() {
      SelfPrims.setVariable("xvelocity", (SelfPrims.getVariable("xvelocity") + ((SelfPrims.getVariable("accx") * world.observer.getGlobal("time")) / 2)));
      SelfPrims.setVariable("yvelocity", (SelfPrims.getVariable("yvelocity") + ((SelfPrims.getVariable("accy") * world.observer.getGlobal("time")) / 2)));
    }, true);
    world.ticker.reset();
  };
  var go = function() { Call(procedures.orbitSun); };
  var orbitSun = function() {
    world.observer.setGlobal("scale", ((world.observer.getGlobal("zoom") * world.topology.maxPxcor) / 150));
    if (Prims.equality(world.observer.getGlobal("vieworbits"), true)) {
      world.turtles().ask(function() { SelfManager.self().penManager.lowerPen(); }, true);
    }
    else {
      world.turtles().ask(function() { SelfManager.self().penManager.raisePen(); }, true);
    }
    world.turtleManager.turtlesOfBreed("PLANETS").ask(function() {
      SelfPrims.setVariable("newx", (SelfPrims.getVariable("newx") + (SelfPrims.getVariable("xvelocity") * world.observer.getGlobal("time"))));
      SelfPrims.setVariable("newy", (SelfPrims.getVariable("newy") + (SelfPrims.getVariable("yvelocity") * world.observer.getGlobal("time"))));
      if ((Prims.gt(NLMath.abs((SelfPrims.getVariable("newx") * world.observer.getGlobal("scale"))), world.topology.maxPxcor) || Prims.gt(NLMath.abs((SelfPrims.getVariable("newy") * world.observer.getGlobal("scale"))), world.topology.maxPxcor))) {
        SelfPrims.setVariable("hidden?", true);
      }
      else {
        SelfPrims.setVariable("hidden?", false);
        SelfPrims.setXY((SelfPrims.getVariable("newx") * world.observer.getGlobal("scale")), (SelfPrims.getVariable("newy") * world.observer.getGlobal("scale")));
      }
      SelfPrims.setVariable("radius", NLMath.sqrt((NLMath.pow(SelfPrims.getVariable("newx"), 2) + NLMath.pow(SelfPrims.getVariable("newy"), 2))));
      SelfPrims.setVariable("accx", (0 - (((SelfPrims.getVariable("newx") * world.observer.getGlobal("sun").projectionBy(function() { return SelfPrims.getVariable("mass"); })) * world.observer.getGlobal("g")) / NLMath.pow(SelfPrims.getVariable("radius"), 3))));
      SelfPrims.setVariable("accy", (0 - (((SelfPrims.getVariable("newy") * world.observer.getGlobal("sun").projectionBy(function() { return SelfPrims.getVariable("mass"); })) * world.observer.getGlobal("g")) / NLMath.pow(SelfPrims.getVariable("radius"), 3))));
      world.turtleManager.turtlesOfBreed("PLANETS").agentFilter(function() {
        return !Prims.equality(SelfPrims.getVariable("who"), SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("who"); }));
      }).ask(function() {
        SelfManager.myself().ask(function() {
          SelfPrims.setVariable("accx", (SelfPrims.getVariable("accx") - (((SelfPrims.getVariable("mass") * world.observer.getGlobal("g")) * (SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("newx"); }) - SelfPrims.getVariable("newx"))) / NLMath.pow(NLMath.sqrt((NLMath.pow((SelfPrims.getVariable("newx") - SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("newx"); })), 2) + NLMath.pow((SelfPrims.getVariable("newy") - SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("newy"); })), 2))), 3))));
          SelfPrims.setVariable("accy", (SelfPrims.getVariable("accy") - (((SelfPrims.getVariable("mass") * world.observer.getGlobal("g")) * (SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("newy"); }) - SelfPrims.getVariable("newy"))) / NLMath.pow(NLMath.sqrt((NLMath.pow((SelfPrims.getVariable("newx") - SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("newx"); })), 2) + NLMath.pow((SelfPrims.getVariable("newy") - SelfManager.myself().projectionBy(function() { return SelfPrims.getVariable("newy"); })), 2))), 3))));
        }, true);
      }, true);
    }, true);
    world.turtleManager.turtlesOfBreed("PLANETS").ask(function() {
      SelfPrims.setVariable("xvelocity", (SelfPrims.getVariable("xvelocity") + (SelfPrims.getVariable("accx") * world.observer.getGlobal("time"))));
      SelfPrims.setVariable("yvelocity", (SelfPrims.getVariable("yvelocity") + (SelfPrims.getVariable("accy") * world.observer.getGlobal("time"))));
      SelfPrims.setVariable("label", SelfPrims.getVariable("mylabel"));
    }, true);
    world.turtleManager.turtlesOfBreed("PLANETS").ask(function() {
      SelfPrims.setVariable("sundirection", (360 - NLMath.mod((180 + SelfManager.self().towardsXY(0, 0)), 360)));
      SelfPrims.setVariable("orbitcount_old", SelfPrims.getVariable("orbitcount"));
      if (Prims.gt(SelfPrims.getVariable("sundirection"), SelfPrims.getVariable("sundirection_init"))) {
        SelfPrims.setVariable("orbitcount", ((SelfPrims.getVariable("sundirection") - SelfPrims.getVariable("sundirection_init")) / 360));
      }
      if (Prims.lt(SelfPrims.getVariable("sundirection"), SelfPrims.getVariable("sundirection_init"))) {
        SelfPrims.setVariable("orbitcount", (((360 + SelfPrims.getVariable("sundirection")) - SelfPrims.getVariable("sundirection_init")) / 360));
      }
      if (Prims.lt((SelfPrims.getVariable("orbitcount") - SelfPrims.getVariable("orbitcount_old")), 0)) {
        SelfPrims.setVariable("revolutions", (SelfPrims.getVariable("revolutions") + 1));
      }
      SelfPrims.setVariable("total_orbitcount", (SelfPrims.getVariable("revolutions") + SelfPrims.getVariable("orbitcount")));
    }, true);
    world.observer.getGlobal("earth").ask(function() {
      SelfPrims.setVariable("radius-ratio", (SelfPrims.getVariable("radius") / SelfPrims.getVariable("avg-radius")));
    }, true);
  };
  return {
    "GO":go,
    "ORBIT-SUN":orbitSun,
    "SETUP":setup,
    "STARTUP":startup,
    "go":go,
    "orbitSun":orbitSun,
    "setup":setup,
    "startup":startup
  };
})();
world.observer.setGlobal("zoom", 15);
world.observer.setGlobal("vieworbits", true);

      session.startLoop()
    </script>
<script src='jquery-1.11.3.min.js' type='text/javascript'></script>
<script src='shutterbug-0.5.4.js' type='text/javascript'></script>
<script>
  Shutterbug.enable('body');
</script>
  </body>
</html>
